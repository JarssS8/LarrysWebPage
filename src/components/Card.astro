---
const { car } = Astro.props;
const name = car.displayName;
const sellPrice = car.sellPrice;
// Make sell price a string with commas
const sellPriceStr = sellPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
const image = car.image;
---

<div class="card">
    <div class="card-inner">
        <div class="card-front">
            <div class="background-image blur"></div>
            <img class="car-image" src={image} alt="" />
        </div>
        <div class="card-back">
            <p class="car-name">{name}</p>
            <p class="car-price">{sellPriceStr} $</p>
            <p class="car-negotiable">NEGOCIABLES</p>
        </div>
    </div>
</div>

<style>

    .car-name {
        font-size: 30px;
        font-weight: bold;
        margin: 0;
        color: var(--accent);
    }

    .car-price {
        font-size: 25px;
        margin: 0;
        color: #000000;
        font-weight: bold;
    }
    .car-negotiable {
        font-size: 20px;
        margin: 0;
        color: #000000;
        
    }

    .car-image {
        width: 90%;
        border-radius: 10px;
    }

    .card {
        width: 400px;
        height: 300px;
        perspective: 2000px;
    }

    .card-inner {
        width: 100%;
        height: 100%;
        position: relative;
        transform-style: preserve-3d;
        transition: transform 0.999s;
    }

    .card:hover .card-inner {
        transform: rotateY(180deg);
    }

    .card-front,
    .card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
    }

    .blur {
        filter: blur(3px);
        -webkit-filter: blur(3px);
        height: 100%;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
    }

    .background-image{
        position: absolute;
        width: 100%;
        height: 100%;
        z-index: -1;
        background-image: url("https://wallpapers.com/images/high/cool-gta-5-vwfddjbhdtgj37ey.webp");
        opacity: 0.8;
        background-repeat: no-repeat;
        background-size: cover;
        background-position: center;
    }

    .card-front {
        background-color: #ffffffba;
        color: #fff;
        display: flex;
        align-items: center;
        border: 5px solid var(--accent);
        box-shadow: 0 0 10px 0 var(--accent);
        border-radius: 10px;
        justify-content: center;
        font-size: 24px;
        transform: rotateY(0deg);
    }

    .card-back {
        background-color: #ffffff;
        color: #fff;
        display: flex;
        flex-direction: column;

        align-items:center;
        justify-content: center;
        border: 5px solid var(--accent);
        box-shadow: 0 0 10px 0 var(--accent);
        border-radius: 10px;
        font-size: 24px;
        transform: rotateY(180deg);
    }
</style>
